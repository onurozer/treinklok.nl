<div class="p-5 uppercase">
  <!-- Departure Station -->
  <div class="stations">
    <p class="space-x-1 text-4xl"><% @stations.each do |station| %>
        <%= link_to station.name, station_departures_path(station.slug), class: (station.slug == params[:station_id]? "text-red-700 dark:text-red-500" : "") %>
      <% end %>
    </p>
  </div>
  <!-- Clock -->
  <div class="overflow-y-hidden clock">
    <p class="-ml-1 font-medium tracking-tight text-xxl"><%= Time.now.strftime("%H:%M") %></p>
  </div>
  <ul class="space-y-6">
    <!-- Departure -->
    <% @departures.each do |departure| %>
      <li class="text-2xl">
        <!-- Planned Time -->
        <div class="text-red-700 train-planned-time dark:text-red-500">In <%= distance_of_time_in_words_to_now(departure["plannedDateTime"].to_datetime) %></div>
        <!-- Train Details -->
        <div class="flex items-center whitespace-nowrap">
          <div class="destination font-medium destination text-7xl<%=" line-through" if departure["cancelled"] %>"><%= departure["direction"] %></div>
          <div class="flex-col w-6 mx-2 text-center meta">
            <span class="block border-b category border-b-red-600 dark:border-b-red-500"><%= departure["trainCategory"] %></span>
            <span class="block track"><%= departure["plannedTrack"] %></span>
          </div>
        </div>
        <!-- Stops -->
        <% if departure['routeStations'].present? %>
          <div class="font-normal whitespace-nowrap">
            Via <%= departure['routeStations'].map{|station| station['mediumName']}.to_sentence %>
          </div>
        <% end %>
      </li>
    <% end %>
  </ul>
</div>
